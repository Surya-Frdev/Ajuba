<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Basic Meta Tags -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="title" content="Ajuba">
    <meta name="description" content="one page dashboard, single dashboard, html css dashboard">

    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:url" content="">
    <meta name="twitter:title" content="Ajuba">
    <meta name="twitter:description" content="one page dashboard, single dashboard, html css dashboard">
    <meta name="twitter:image" content="https://happymoneytoyou.com/twitter-image.jpg">

    <!-- Keywords for SEO -->
    <meta name="keywords" content="happiness, family happiness, financial stability, financial happiness, stress-free finances, financial security, happy money, financial peace of mind">

    <!-- Author -->
    <meta name="author" content="Ajuba">
    <title>Ajuba</title>
    <link rel="shortcut icon" href="img/fav.png" type="image/x-icon">

    <!-- Css File -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Work+Sans:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/style.min.css">
    <link rel="stylesheet" href="css/media.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>
<body>
<!-- dashboard -->
<section class="ajuba-dashboard">
    <div class="container">
        <div class="ajuba-details">
            <aside class="sidebar">
               <div class="sidebar-title">
                    <figure class="logo">
                        <a href="ajuba.html"><img src="img/logo.JPG" alt="logo"></a>
                    </figure>
               </div> 
               <div class="sidebar-links">
                    <div class="links-details">
                        <ul>
                            <li class="sidebar-title">
                                <a href="#" class="active"><img src="img/icons/icon-9.png" alt="dashboard" class="sidebar-icons"><img src="img/icons/icon-1.png" alt="dashboard" class="sidebar-icons"><span>Dashboard</span></a>
                            </li>
                            <li class="sidebar-title">
                                <a href="#"><img src="img/icons/icon-10.png" alt="dashboard" class="sidebar-icons"><img src="img/icons/icon-2.png" alt="dashboard" class="sidebar-icons"><span>Analytics</span></a>
                            </li>
                            <li class="sidebar-title">
                                <a href="#"><img src="img/icons/icon-11.png" alt="dashboard" class="sidebar-icons"><img src="img/icons/icon-3.png" alt="dashboard" class="sidebar-icons"><span>Invoice</span></a>
                            </li>
                            <li class="sidebar-title">
                                <a href="#"><img src="img/icons/icon-12.png" alt="dashboard" class="sidebar-icons"><img src="img/icons/icon-4.png" alt="dashboard" class="sidebar-icons"><span>Schedule</span></a>
                            </li>
                            <li class="sidebar-title">
                                <a href="#"><img src="img/icons/icon-13.png" alt="dashboard" class="sidebar-icons"><img src="img/icons/icon-5.png" alt="dashboard" class="sidebar-icons"><span>Calendar</span></a>
                            </li>
                            <li class="sidebar-title">
                                <a href="#"  class="anchor-message"><div><img src="img/icons/icon-14.png" alt="dashboard" class="sidebar-icons"><img src="img/icons/icon-6.png" alt="dashboard" class="sidebar-icons"><span>Messages</span></div><span class="message-count">60</span></a>
                            </li>
                            <li class="sidebar-title">
                                <a href="#"><img src="img/icons/icon-15.png" alt="dashboard" class="sidebar-icons"><img src="img/icons/icon-7.png" alt="dashboard" class="sidebar-icons"><span>Notification</span></a>
                            </li>
                            <li class="sidebar-title">
                                <a href="#"><img src="img/icons/icon-16.png" alt="dashboard" class="sidebar-icons"><img src="img/icons/icon-8.png" alt="dashboard" class="sidebar-icons"><span>Settings</span></a>
                            </li>
                        </ul>
                        <div class="upgrad-container">
                            <figure class="upgrad-img">
                                <img src="img/light.png" alt="upgrad">
                            </figure>
                            <a href="#">Upgrade Now</a>
                        </div>
                        <div class="logout">
                            <div class="logout-details">
                                <figure class="logout-img">
                                    <img src="img/user.jpg" alt="logout">
                                </figure>
                                <div class="logout-para">
                                    <h6>Mahanth</h6>
                                    <p>Free Account</p>
                                </div>
                            </div>
                            <i class="fa-solid fa-arrow-right-from-bracket"></i>
                        </div>
                    </div>
               </div>
            </aside>
            <main class="ajuba-main-container">
                <nav class="ajuba-main-header">
                    <h4>Dashboard</h4>
                    <div class="main-header-date">
                        <input type="date" id="inputDate" value="2024-12-26">
                        <input type="date" id="inputDate" value="2025-04-10">
                    </div>
                </nav>
                <div class="ajuba-summaryblocks">
                    <div class="summaryblocks-container">
                        <div class="summaryblock-box">
                            <div class="blocks-content">
                                <div class="blocks-icon">
                                    <img src="img/icons/icon-17.png" alt="blocks" class="blocks-icon-details">
                                </div>
                                <div class="summaryblocks-content">
                                    <strong class="summaryblocks-title">1080+</strong>
                                    <p class="summaryblocks-para">Save Products</p>
                                </div>
                            </div>
                        </div>
                        <div class="summaryblock-box">
                            <div class="blocks-content">
                                <div class="blocks-icon">
                                    <img src="img/icons/icon-18.png" alt="blocks" class="blocks-icon-details">
                                </div>
                                <div class="summaryblocks-content">
                                    <strong class="summaryblocks-title">80+</strong>
                                    <p class="summaryblocks-para">Stack Products</p>
                                </div>
                            </div>
                        </div>
                        <div class="summaryblock-box">
                            <div class="blocks-content">
                                <div class="blocks-icon">
                                    <img src="img/icons/icon-19.png" alt="blocks" class="blocks-icon-details">
                                </div>
                                <div class="summaryblocks-content">
                                    <strong class="summaryblocks-title">680+</strong>
                                    <p class="summaryblocks-para">Sales Products</p>
                                </div>
                            </div>
                        </div>
                        <div class="summaryblock-box">
                            <div class="blocks-content">
                                <div class="blocks-icon">
                                    <img src="img/icons/icon-20.png" alt="blocks" class="blocks-icon-details">
                                </div>
                                <div class="summaryblocks-content">
                                    <strong class="summaryblocks-title">120+</strong>
                                    <p class="summaryblocks-para">Job Application</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <section class="chart-container">
                    <div class="lineChart-container">
                        <div class="line-chart">
                            <h4>Reports</h4>
                            <canvas id="lineChart"></canvas>
                        </div>
                    </div>
                    <div class="doughNut-container">
                        <div class="doughnut-chart">
                            <h4>Sales Distribution</h4>
                            <canvas id="doughnutChart"></canvas>
                            <div id="chartLegend"></div>
                        </div>
                    </div>                 
                </section>
                <section class="product-details">
                    <div class="recent-order">
                        <h4>Recent Orders</h4>
                        <div class="orders-table">
                            <div class="table">
                                <table id="dataTable">
                                    <thead>
                                        <tr class="table-header">
                                            <th data-column="trackingNo">Tracking No</th>
                                            <th data-column="productName">Product Name</th>
                                            <th data-column="price">Price</th>
                                            <th data-column="totalOrder">Total Order</th>
                                            <th data-column="totalAmount">Total Amount</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr class="table-content">
                                            <td>#876364</td>
                                            <td class="product-name"><img src="img/camera_lens.jpg" alt="Icon">Camera Lens</td>
                                            <td>$164</td>
                                            <td class="total-order"><span>325</span></td>
                                            <td>$1,46,660</td>
                                        </tr>
                                        <tr class="table-content">
                                            <td>#876368</td>
                                            <td class="product-name"><img src="img/kids_dress.jpg" alt="Icon">Kids Night Dress</td>
                                            <td>$22</td>
                                            <td class="total-order"><span>53</span></td>
                                            <td>$46,600</td>
                                        </tr>
                                        <tr class="table-content">
                                            <td>#876412</td>
                                            <td class="product-name"><img src="img/argan_oil.webp" alt="Icon">Argan Oil</td>
                                            <td>$25</td>
                                            <td class="total-order"><span>78</span></td>
                                            <td>$3,46,676</td>
                                        </tr>
                                        <tr class="table-content">
                                            <td>#876621</td>
                                            <td class="product-name"><img src="img/parfum.avif" alt="Icon">EAU DE Parfum</td>
                                            <td>$36</td>
                                            <td class="total-order"><span>98</span></td>
                                            <td>$3,46.981</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                    <div class="top-selling">
                        <h4>Top Selling Products</h4>
                        <div class="selling-details">
                            <div class="first-selling">
                                <figure class="sell-img">
                                    <img src="img/nike.png" alt="selling">
                                </figure>
                                <div class="selling-content">
                                    <p>NIKE Shoes Black Pattern</p>
                                    <div class="ratings">
                                        <i class="fa-solid fa-star"></i>
                                        <i class="fa-solid fa-star"></i>
                                        <i class="fa-solid fa-star"></i>
                                        <i class="fa-solid fa-star"></i>
                                        <i class="fa-solid fa-star"></i>
                                    </div>
                                    <h6>$108</h6>
                                </div>
                            </div>
                            <div class="second-selling">
                                <figure class="sell-img">
                                    <img src="img/iphone.png" alt="selling">
                                </figure>
                                <div class="selling-content">
                                    <p>iPhone 12</p>
                                    <div class="ratings">
                                        <i class="fa-solid fa-star"></i>
                                        <i class="fa-solid fa-star"></i>
                                        <i class="fa-solid fa-star"></i>
                                        <i class="fa-solid fa-star"></i>
                                        <i class="fa-solid fa-star"></i>
                                    </div>
                                    <h6>$1027</h6>
                                </div>
                            </div>
                            <div class="third-selling">
                                <figure class="sell-img">
                                    <img src="img/fasttrack.png" alt="selling">
                                </figure>
                                <div class="selling-content">
                                    <p>Fastrack Optimum Pro</p>
                                    <div class="ratings">
                                        <i class="fa-solid fa-star"></i>
                                        <i class="fa-solid fa-star"></i>
                                        <i class="fa-solid fa-star"></i>
                                        <i class="fa-solid fa-star"></i>
                                        <i class="fa-solid fa-star"></i>
                                    </div>
                                    <h6>$145</h6>
                                </div>
                            </div>
                            <div class="fourth-selling">
                                <figure class="sell-img">
                                    <img src="img/samsung-laptop.png" alt="selling">
                                </figure>
                                <div class="selling-content">
                                    <p>Samsung Galaxy Book4</p>
                                    <div class="ratings">
                                        <i class="fa-solid fa-star"></i>
                                        <i class="fa-solid fa-star"></i>
                                        <i class="fa-solid fa-star"></i>
                                        <i class="fa-solid fa-star"></i>
                                        <i class="fa-solid fa-star"></i>
                                    </div>
                                    <h6>$3050</h6>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
            </main>
        </div>
    </div>
</section>
<!-- Script -->  
<script src="js/index.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@kurkle/color"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels"></script>
    <script>
        // Fixed Data for Charts
        const fixedData = {
            hours: ['10am', '11am', '12pm', '1pm', '2pm', '3pm', '4pm'],
            salesData: [20, 45, 50, 35, 60, 75, 40] 
        };
    
        // Utility Functions
        const Utils = {
            CHART_COLORS: {
                blue: '#42A5F5',
                purple: '#AB47BC',
                yellow: 'rgba(255, 206, 86, 1)',
                red: 'rgba(255, 99, 132, 1)',
            },
        };
    
        // Gradient Function for Line Chart
        function getGradient(ctx, chartArea) {
            const gradient = ctx.createLinearGradient(0, chartArea.bottom, 0, chartArea.top);
            gradient.addColorStop(0, Utils.CHART_COLORS.blue);
            gradient.addColorStop(1, Utils.CHART_COLORS.purple);
            return gradient;
        }
    
  // Updated Line Chart Configuration
const lineLabels = [' ', '10am', '11am', '12pm', '1pm', '2pm', '3pm', '4pm'];
const lineData = {
    labels: lineLabels,
    datasets: [
        {
            label: 'Sales',
            data: [ , 20, 45, 50, 35, 60, 75, 40], 
            borderColor: function(context) {
                const chart = context.chart;
                const { ctx, chartArea } = chart;
                if (!chartArea) {
                    return '#42A5F5';
                }
                return getGradient(ctx, chartArea);
            },
            borderWidth: (context) => context.chart.width / 200,
            pointRadius: (context) => context.chart.width / 100, 
            pointBackgroundColor: '#fff',
            pointBorderWidth: (context) => context.chart.width / 200, 
            pointHoverRadius: (context) => context.chart.width / 80,
            tension: 0.4
        }
    ]
};

const lineConfig = {
    type: 'line',
    data: lineData,
    options: {
        responsive: true,
        maintainAspectRatio: false,
        animation: {
            duration: 2000,
            easing: 'easeInOutQuad',
        },
        plugins: {
            legend: {
                display: false
            },
            tooltip: {
                titleFont: { size: 12, weight: 'small' },
                bodyFont: { size: 10 },
                padding: 10,
                caretPadding: 8,
                className: 'custom-tooltip',
                callbacks: {
                    label: function(context) {
                        if (context.label === '3pm' && context.raw) {
                            return `Sales: ${context.raw}`;
                        }
                        return `${context.label}: ${context.raw}`;
                    }
                }
            }
        },
        scales: {
            x: {
                grid: {
                    display: false
                },
                ticks: {
                    color: '#90A4AE',
                    font: {
                        size: (context) => context.chart.width / 50 
                    }
                }
            },
            y: {
                grid: { color: '#ECEFF1' },
                ticks: {
                    color: '#90A4AE',
                    font: {
                        size: (context) => context.chart.width / 50 // Dynamically adjust font size
                    },
                    stepSize: 20, // Step size ensures only 0, 20, 40, 60, 80 are shown
                    callback: function(value) {
                        return [0, 20, 40, 60, 80].includes(value) ? value : '';
                    }
                },
                min: 0, // Start Y-axis at 0
                max: 80 // End Y-axis at 80
            }
        },
        onResize: function(chart, size) {
            // Adjust font and size properties dynamically based on new size
            const width = chart.width;
            chart.options.scales.x.ticks.font.size = width / 40;
            chart.options.scales.y.ticks.font.size = width / 40;
            chart.data.datasets[0].borderWidth = width / 200;
            chart.data.datasets[0].pointRadius = width / 100;
            chart.data.datasets[0].pointHoverRadius = width / 80;
            chart.data.datasets[0].pointBorderWidth = width / 200;
        }
    }
};

// Utility function for gradient creation
function getGradient(ctx, chartArea) {
    const gradient = ctx.createLinearGradient(0, chartArea.top, 0, chartArea.bottom);
    gradient.addColorStop(0, '#42A5F5');
    gradient.addColorStop(1, '#1E88E5');
    return gradient;
}

       // Doughnut Chart Configuration
    const doughnutData = {
        labels: ['Sale', 'Distribute', 'Return'],
        datasets: [{
            data: [35, 15, 15, 15],
            backgroundColor: ['#4285F4', '#FFCA28', '#FF7043', '#fafafa'],
            hoverOffset: 10,
            borderWidth: 1,
            borderRadius: function(context) {
                const value = context.raw;
                return value > 10 ? 5 : 2;
            }
        }]
    };

    const doughnutConfig = {
    type: 'doughnut',
    data: doughnutData,
    options: {
        responsive: true,
        cutout: '75%', // Adjust cutout size as needed
        animation: {
            duration: 2000,
            easing: 'easeInOutQuad',
        },
        plugins: {
            legend: {
                display: true,
                position: 'bottom',
                labels: {
                    boxWidth: 15, // Size of the legend box
                    padding: 20, // Add spacing between the legend and chart
                }
            },
            tooltip: {
                callbacks: {
                    label: function(context) {
                        const label = context.label || '';
                        const value = context.raw || 0;
                        return `${label}: ${value}%`;
                    }
                }
            }
        },
    },
    plugins: [
        {
            id: 'centerText',
            beforeDraw(chart) {
                const { width, height } = chart; // Get width and height of chart
                const { ctx, chartArea } = chart; // Get canvas context and chart area
                if (!chartArea) return; // Ensure chartArea is defined

                // Calculate center position
                const centerX = (chartArea.left + chartArea.right) / 2;
                const centerY = (chartArea.top + chartArea.bottom) / 2;

                // Save the canvas context
                ctx.save();

                // Render percentage text
                ctx.font = `${Math.floor(width * 0.1)}px Work Sans, serif`; // Font size dynamically scales with chart width
                ctx.textAlign = 'center';
                ctx.textBaseline = 'middle';
                ctx.fillStyle = '#000';
                ctx.fillText('80%', centerX, centerY - 10);

                // Render additional text
                ctx.font = `${Math.floor(width * 0.06)}px Work Sans, serif`; // Smaller font for the second line
                ctx.fillText('Transactions', centerX, centerY + 20);

                // Restore canvas context
                ctx.restore();
            }
        }
    ]
};

        // Render Line Chart
        const lineCtx = document.getElementById('lineChart').getContext('2d');
        const lineChart = new Chart(lineCtx, lineConfig);
    
        // Render Doughnut Chart
        const doughnutCtx = document.getElementById('doughnutChart').getContext('2d');
        const doughnutChart = new Chart(doughnutCtx, doughnutConfig);
    </script>
    
</body>
</html>